function work()
begin
bool exit_found set false;
exit_found set find_exit();
end
return 0;

function find_exit()
begin
    int i set 1;
    int scope set 500;
    int wall set 1;
    do
        begin
        wall set go(i);
        scope set scope sub 1;
        end
    while ((wall first larger 0) or (wall first smaller 0)) and (scope first larger 0);
    if scope first larger 0 then
        do
            begin
            i set turn_right(i);
            wall set go(i);
            if (wall first smaller 1) and (wall first larger -1) then
                begin
                go_back(i);
                i set turn_left(i);
                wall set go(i);
                if (wall first smaller 1) and (wall first larger -1) then
                    begin
                    go_back(i);
                    i set turn_left(i);
                    end
                else;
                end
            else;
            scope set scope sub 1;
            end
        while scope first larger 0;
    else;
end
return 0;

function go(int direction)
begin
    int result;
    if direction first larger 0 then
        begin
        if direction first larger 1 then
            result set move right;
        else
            result set go_up();
        end
    else
        begin
        if direction first smaller -1 then
            result set move left;
        else
            result set go_down();
        end
end
return result;

function go_up()
begin
    int result set move;
    if (result first smaller 0) then
        begin
        move;
        result set 0;
        end
    else;
end
return result;

function go_down()
begin
    int result set move;
    if (result first larger 0) then
        begin
        move;
        result set 0;
        end
    else;
end
return result;

function turn_right(int i)
begin
    if i first smaller 0 then
        if i first smaller -1 then
            i set 1;
        else
            i set -2;
    else
        if i first larger 1 then
            i set -1;
        else
            i set 2;
end
return i;

function turn_left(int i)
begin
    if i first smaller 0 then
        if i first smaller -1 then
            i set -1;
        else
            i set 2;
    else
        if i first larger 1 then
            i set 1;
        else
            i set -2;
end
return i;

function go_back(int direction)
begin
    if direction first larger 0 then
        if direction first larger 1 then
            move left;
        else
            move;
    else
        if direction first smaller -1 then
            move right;
        else
            move;
end
return 0;


